<div class="formInput">
  <form class="frame" [formGroup]="formStd_code">
    <mat-form-field class="per28">
      <mat-label><span style="color: red;">*</span> รหัสนักศึกษา</mat-label>
      <input matInput placeholder="Ex.60000000000-0" formControlName="std_code" />
    </mat-form-field>

    <mat-form-field class="per15">
      <mat-label><span style="color: red;">*</span> คำนำหน้า</mat-label>
      <mat-select formControlName="nameTitle">
        <mat-option *ngFor="let x of titleName" [value]="x">{{ x }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="per28">
      <mat-label><span style="color: red;">*</span> ชื่อจริง</mat-label>
      <input matInput placeholder="Ex.ใจดี" formControlName="fname" />
    </mat-form-field>

    <mat-form-field class="per28">
      <mat-label><span style="color: red;">*</span> นามสกุล</mat-label>
      <input matInput placeholder="Ex.จริงใจ" formControlName="lname" />
    </mat-form-field>
    <br />
    <mat-form-field class="per20">
      <mat-label
        ><span style="color: red;">*</span> ระดับวุฒิการศึกษา</mat-label
      >
      <mat-select formControlName="noLevel">
        <mat-option *ngFor="let x of levels" [value]="x.noLevel">{{
          x.name
        }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="per30">
      <mat-label><span style="color: red;">*</span> คณะ</mat-label>
      <mat-select
        formControlName="faculty_code"
        (selectionChange)="
          getBranch(
            this.formStd_code.value.faculty_code,
            this.formStd_code.value.noLevel
          )
        "
      >
        <mat-option *ngFor="let x of Faculty" [value]="x.faculty_code">{{
          x.name
        }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="per30">
      <mat-label><span style="color: red;">*</span> สาขา</mat-label>
      <mat-select formControlName="branch_code">
        <mat-option *ngFor="let x of branch" [value]="x.branch_code">{{
          x.name
        }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="per20">
      <mat-label><span style="color: red;">*</span> กลุ่มเรียน</mat-label>
      <input matInput placeholder="Ex.60241" formControlName="groupStd" />
    </mat-form-field>
    <br />

    <mat-form-field class="per20">
      <mat-label>เบอร์โทรศัพท์</mat-label>
      <input matInput placeholder="Ex.08xxxxxxxx" formControlName="phone"  />
    </mat-form-field>
    <br />
    <mat-form-field class="per50">
      <mat-label><span style="color: red;">*</span> กระทำผิดกฏข้อที่</mat-label>
      <mat-select formControlName="rulesBreak">
        <mat-option
          *ngFor="let x of ruleChoice; let i = index"
          [value]="i + 1"
          >{{ i + 1 + ". " + x.rules_name }}</mat-option
        >
      </mat-select>
    </mat-form-field>

    <mat-form-field
      class="per50"
      *ngIf="this.formStd_code.value.rulesBreak == 16"
    >
      <input matInput placeholder="กระทำผิดกฏ" formControlName="other" />
    </mat-form-field>
    <br />
    <table class="dateTime">
      <tr>
        <td>
          <div style="width: 98%;">
            <mat-form-field>
              <mat-label
                ><span style="color: red;">*</span> วันที่กระทำผิด</mat-label
              >
              <input
                matInput
                [matDatepicker]="picker1"
                formControlName="date_rule"
              />
              <mat-datepicker-toggle
                matSuffix
                [for]="picker1"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker1> </mat-datepicker>
            </mat-form-field>
          </div>
        </td>
        <td>
          <div class="timeInput">
            <ngx-timepicker-field
              class="ngx-timepicker"
              formControlName="time_rule"
              [format]="24"
              [defaultTime]="'23:11'"
            ></ngx-timepicker-field>
          </div>
        </td>
      </tr>
    </table>

    <br />
    <mat-form-field class="per50">
      <textarea
        matInput
        placeholder="รายละเอียด"
        rows="4"
        formControlName="details"
      ></textarea>
    </mat-form-field>
    <br />
    <button
      (click)="setStd_rule()"
      [disabled]="formStd_code.invalid"
      mat-raised-button
      color="primary"
    >
      บันทึก
    </button>
  </form>
</div>
